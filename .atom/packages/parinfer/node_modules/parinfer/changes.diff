diff --git a/lib/parinfer.js b/lib/parinfer.js
index d101039..6725bcb 100644
--- a/lib/parinfer.js
+++ b/lib/parinfer.js
@@ -604,25 +604,26 @@ function onChar(result) {
 // Cursor functions
 //------------------------------------------------------------------------------
 
-function isCursorOnLeft(result) {
+function isCursorLeftInline(cursorX, cursorLine, x, lineNo) {
   return (
-    result.lineNo === result.cursorLine &&
-    result.cursorX !== UINT_NULL &&
-    result.cursorX <= result.x
+    cursorLine === lineNo &&
+    x !== UINT_NULL &&
+    cursorX !== UINT_NULL &&
+    cursorX <= x // inclusive since (cursorX = x) implies (x-1 < cursor < x)
   );
 }
 
-function isCursorOnRight(result, x) {
+function isCursorRightInline(cursorX, cursorLine, x, lineNo) {
   return (
-    result.lineNo === result.cursorLine &&
-    result.cursorX !== UINT_NULL &&
+    cursorLine === lineNo &&
     x !== UINT_NULL &&
-    result.cursorX > x
+    cursorX !== UINT_NULL &&
+    cursorX > x
   );
 }
 
-function isCursorInComment(result) {
-  return isCursorOnRight(result, result.commentX);
+function isCursorInComment(result, cursorX, cursorLine) {
+  return isCursorRightInline(cursorX, cursorLine, result.commentX, result.lineNo);
 }
 
 function handleChangeDelta(result) {
@@ -654,8 +655,8 @@ function clampParenTrailToCursor(result) {
   var endX = result.parenTrail.endX;
 
   var isCursorClamping = (
-    isCursorOnRight(result, startX) &&
-    !isCursorInComment(result)
+    isCursorRightInline(result, startX) &&
+    !isCursorInComment(result, result.cursorX, result.cursorLine)
   );
 
   if (isCursorClamping) {
@@ -882,7 +883,7 @@ function onLeadingCloseParen(result) {
     if (!isValidCloseParen(result.parenStack, result.ch)) {
       throw error(result, ERROR_UNMATCHED_CLOSE_PAREN);
     }
-    if (isCursorOnLeft(result)) {
+    if (isPosLessThanOrEqual(result)) {
       result.skipChar = false;
       onIndent(result);
     }
